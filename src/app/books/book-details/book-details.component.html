<div class="container">
    <div class="card" *ngIf="book">
        <div class="card-block">
            <h4 class="text-center">{{book.title}}</h4>
            <div class="row">
                <div class="col-sm-4">
                    <img src="http://smartmobilestudio.com/wp-content/uploads/2012/06/leather-book-preview.png"/>
                </div>
                <div class="col-sm-8">
                    <p class="description">{{book.description}}</p>
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-sm-4 offset-sm-1">
                    <div class="row">
                        <h6 class="col-sm-6">Authors:</h6>
                        <div class="col-sm-6">
                            <span *ngFor="let author of book.authors">{{author.firstName}} {{author.lastName}}</span>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <h6 class="col-sm-6">Publisher:</h6>
                        <div class="col-sm-6">
                            <span>{{book.publisher.name}}</span>
                            <span *ngIf="book.publisher.city != 'Unknown'">{{book.publisher.city}}</span>
                            <span *ngIf="book.publisher.country != 'Unknown'">{{book.publisher.country}}</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 offset-sm-2">
                    <div class="row">
                        <h6 class="col-sm-6">Genre:</h6>
                        <div class="col-sm-6">
                            <span>{{book.genre}}</span><br>
                        </div>
                    </div>
                    <div class="row">
                        <h6 class="col-sm-6">Format:</h6>
                        <div class="col-sm-6">
                            <span>{{book.format}}</span><br>
                        </div>
                    </div>
                    <div class="row">
                        <h6 class="col-sm-6">Pages:</h6>
                        <div class="col-sm-6">
                            <span>{{book.pages}}</span><br>
                        </div>
                    </div>
                    <div class="row">
                        <h6 class="col-sm-6">ISBN:</h6>
                        <div class="col-sm-6">
                            <span>{{book.isbn}}</span><br>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4 offset-sm-7">
                <div class="row">
                    <div class="col-sm-6">
                        <div *ngIf="book.stock > 0">
                            <p>Stock: {{book.stock}}</p>
                        </div>
                        <div *ngIf="book.stock == 0">
                            <a>out of stock</a><br>
                            <a style="color: dodgerblue" (click)="notify()">Notify on restock?</a><br/>
                            <br/>
                        </div>
                        <h5>Price: {{book.price}}â‚¬</h5>
                    </div>
                    <button class="btn" (click)="addToCart()">Add to cart</button>
                </div>
            </div>
        </div>
        <div *ngIf="authService.isAdmin()" class="row">
            <button style="margin-top: 10px;" class="btn btn-danger offset-sm-9" (click)="deleteBook()">DELETE</button>
        </div>
        <div class="row mt-5" *ngIf="book">
            <div class="col-12">
                <app-review-tabbed-container [bookId]="book.bookId"></app-review-tabbed-container>
            </div>
        </div>
    </div>

</div>
